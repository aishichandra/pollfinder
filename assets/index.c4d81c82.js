(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function l(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=l(n);fetch(n.href,a)}})();function ae(){}function Et(t){return t()}function Je(){return Object.create(null)}function ve(t){t.forEach(Et)}function jt(t){return typeof t=="function"}function Jt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function It(t){return Object.keys(t).length===0}const Tt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);function c(t,e){t.appendChild(e)}function C(t,e,l){t.insertBefore(e,l||null)}function y(t){t.parentNode.removeChild(t)}function he(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function r(t){return document.createElement(t)}function Se(t,e){const l={};for(const s in t)Tt(t,s)&&e.indexOf(s)===-1&&(l[s]=t[s]);return l}function k(t){return document.createTextNode(t)}function m(){return k(" ")}function ue(){return k("")}function oe(t,e,l,s){return t.addEventListener(e,l,s),()=>t.removeEventListener(e,l,s)}function i(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function zt(t){return Array.from(t.childNodes)}function S(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Ie(t,e){t.value=e==null?"":e}function Mt(t,e,l,s){l===null?t.style.removeProperty(e):t.style.setProperty(e,l,s?"important":"")}function Te(t,e){for(let l=0;l<t.options.length;l+=1){const s=t.options[l];if(s.__value===e){s.selected=!0;return}}t.selectedIndex=-1}function Bt(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function fe(t,e,l){t.classList[l?"add":"remove"](e)}let ge;function ke(t){ge=t}function Rt(){if(!ge)throw new Error("Function called outside component initialization");return ge}function Vt(t){Rt().$$.on_mount.push(t)}const be=[],ze=[],ye=[],Be=[],Ht=Promise.resolve();let Pe=!1;function qt(){Pe||(Pe=!0,Ht.then(Ft))}function Ce(t){ye.push(t)}const Oe=new Set;let we=0;function Ft(){const t=ge;do{for(;we<be.length;){const e=be[we];we++,ke(e),Gt(e.$$)}for(ke(null),be.length=0,we=0;ze.length;)ze.pop()();for(let e=0;e<ye.length;e+=1){const l=ye[e];Oe.has(l)||(Oe.add(l),l())}ye.length=0}while(be.length);for(;Be.length;)Be.pop()();Pe=!1,Oe.clear(),ke(t)}function Gt(t){if(t.fragment!==null){t.update(),ve(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ce)}}const Yt=new Set;function Kt(t,e){t&&t.i&&(Yt.delete(t),t.i(e))}function Wt(t,e,l,s){const{fragment:n,after_update:a}=t.$$;n&&n.m(e,l),s||Ce(()=>{const o=t.$$.on_mount.map(Et).filter(jt);t.$$.on_destroy?t.$$.on_destroy.push(...o):ve(o),t.$$.on_mount=[]}),a.forEach(Ce)}function Qt(t,e){const l=t.$$;l.fragment!==null&&(ve(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Xt(t,e){t.$$.dirty[0]===-1&&(be.push(t),qt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Zt(t,e,l,s,n,a,o,u=[-1]){const p=ge;ke(t);const f=t.$$={fragment:null,ctx:[],props:a,update:ae,not_equal:n,bound:Je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(p?p.$$.context:[])),callbacks:Je(),dirty:u,skip_bound:!1,root:e.target||p.$$.root};o&&o(f.root);let A=!1;if(f.ctx=l?l(t,e.props||{},(h,d,...O)=>{const v=O.length?O[0]:d;return f.ctx&&n(f.ctx[h],f.ctx[h]=v)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](v),A&&Xt(t,h)),d}):[],f.update(),A=!0,ve(f.before_update),f.fragment=s?s(f.ctx):!1,e.target){if(e.hydrate){const h=zt(e.target);f.fragment&&f.fragment.l(h),h.forEach(y)}else f.fragment&&f.fragment.c();e.intro&&Kt(t.$$.fragment),Wt(t,e.target,e.anchor,e.customElement),Ft()}ke(p)}class $t{$destroy(){Qt(this,1),this.$destroy=ae}$on(e,l){if(!jt(l))return ae;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(l),()=>{const n=s.indexOf(l);n!==-1&&s.splice(n,1)}}$set(e){this.$$set&&!It(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Re(t,e,l){const s=t.slice();return s[65]=e[l][0],s[66]=e[l][1],s}function Ve(t,e,l){const s=t.slice();s[41]=e[l];const n=new URL(s[41].url);s[47]=n;const a=s[47].hostname.replace("www.","");s[48]=a;const o=s[47].pathname+s[47].search;s[49]=o;const u=new Date(s[41].added_on);s[50]=u;const p=s[50].toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});s[51]=p;const f=s[50].toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});s[52]=f;const A=Array.isArray(s[41].polls)?s[41].polls:[s[41].polls];return s[57]=A,s}function He(t,e,l){const s=t.slice();s[58]=e[l];const n=Ee(s[58]);return s[59]=n,s}function qe(t,e,l){const s=t.slice();s[58]=e[l];const n=Ee(s[58]);return s[59]=n,s}function xt(t){var n,a,o;const e=t.slice(),l=typeof e[41].match_results=="string"?JSON.parse(e[41].match_results):e[41].match_results;e[71]=l;const s=((o=(a=(n=e[71])==null?void 0:n.matches)==null?void 0:a[0])==null?void 0:o.confidence)||"N/A";return e[72]=s,e}function De(t){const e=t.slice(),l=e[53].matches[0].matched_poll;e[54]=l;const s=e[54];return e[55]=s.poll_id,e[56]=Se(s,["poll_id"]),e}function el(t){const e=t.slice(),l=e[66][0].match_results.matches[0].matched_poll;e[54]=l;const s=e[54];return e[55]=s.poll_id,e[56]=Se(s,["poll_id"]),e}function tl(t){const e=t.slice(),l=e[66][0];e[77]=l;const s=JSON.parse(e[77].match_results);return e[53]=s,e}function Ge(t,e,l){const s=t.slice();return s[41]=e[l],s}function Ye(t,e,l){const s=t.slice();return s[44]=e[l],s}function Ke(t,e,l){const s=t.slice();s[58]=e[l],s[61]=l;const n=Ee(s[58]);return s[59]=n,s}function ll(t){const e=t.slice(),l=e[53].matches[0].matched_poll;e[54]=l;const s=e[54];return e[55]=s.poll_id,e[56]=Se(s,["poll_id"]),e}function sl(t){const e=t.slice(),l=e[41][e[44]].matches[0].matched_poll;e[54]=l;const s=e[54];return e[55]=s.poll_id,e[56]=Se(s,["poll_id"]),e}function nl(t){const e=t.slice(),l=JSON.parse(e[41][e[44]]);return e[53]=l,e}function cl(t){const e=t.slice(),l=Ut(e[41]);return e[62]=l,e}function ol(t){const e=t.slice(),l=Array.isArray(e[41][e[44]])?e[41][e[44]]:[e[41][e[44]]];return e[57]=l,e}function al(t){const e=t.slice(),l=new Date(e[41][e[44]]);e[50]=l;const s=e[50].toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});e[51]=s;const n=e[50].toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return e[52]=n,e}function il(t){const e=t.slice(),l=new URL(e[41][e[44]]);e[47]=l;const s=e[47].hostname.replace("www.","");e[48]=s;const n=e[47].pathname+e[47].search;return e[49]=n,e}function We(t,e,l){const s=t.slice();return s[44]=e[l],s}function Qe(t,e,l){const s=t.slice();return s[78]=e[l],s}function Xe(t){let e,l,s;return{c(){e=r("button"),e.textContent="Clear",i(e,"class","btn ghost svelte-cs93cu")},m(n,a){C(n,e,a),l||(s=oe(e,"click",t[23]),l=!0)},p:ae,d(n){n&&y(e),l=!1,s()}}}function Ze(t){let e,l=t[78]+"",s,n;return{c(){e=r("option"),s=k(l),e.__value=n=t[78],e.value=e.__value,i(e,"class","svelte-cs93cu")},m(a,o){C(a,e,o),c(e,s)},p(a,o){o[0]&64&&l!==(l=a[78]+"")&&S(s,l),o[0]&64&&n!==(n=a[78])&&(e.__value=n,e.value=e.__value)},d(a){a&&y(e)}}}function rl(t){let e,l,s,n;return{c(){e=r("div"),l=r("button"),l.textContent=`Download Feedback CSV (${Object.keys(t[14]).length})`,i(l,"class","btn svelte-cs93cu"),i(e,"class","field svelte-cs93cu")},m(a,o){C(a,e,o),c(e,l),s||(n=oe(l,"click",t[18]),s=!0)},p:ae,d(a){a&&y(e),s=!1,n()}}}function ul(t){let e;return{c(){e=r("div"),e.textContent="No data found.",i(e,"class","notice svelte-cs93cu")},m(l,s){C(l,e,s)},p:ae,d(l){l&&y(e)}}}function fl(t){let e;function l(a,o){return a[9]==="table"?hl:pl}let s=l(t),n=s(t);return{c(){n.c(),e=ue()},m(a,o){n.m(a,o),C(a,e,o)},p(a,o){s===(s=l(a))&&n?n.p(a,o):(n.d(1),n=s(a),n&&(n.c(),n.m(e.parentNode,e)))},d(a){n.d(a),a&&y(e)}}}function _l(t){let e,l,s,n;return{c(){e=r("div"),l=r("strong"),l.textContent="Error:",s=m(),n=k(t[3]),i(l,"class","svelte-cs93cu"),i(e,"class","notice error svelte-cs93cu")},m(a,o){C(a,e,o),c(e,l),c(e,s),c(e,n)},p(a,o){o[0]&8&&S(n,a[3])},d(a){a&&y(e)}}}function dl(t){let e;return{c(){e=r("div"),e.textContent="Loading data\u2026",i(e,"class","notice svelte-cs93cu")},m(l,s){C(l,e,s)},p:ae,d(l){l&&y(e)}}}function pl(t){let e,l=Object.entries(t[10]).sort(Pt),s=[];for(let n=0;n<l.length;n+=1)s[n]=dt(Re(t,l,n));return{c(){e=r("div");for(let n=0;n<s.length;n+=1)s[n].c();i(e,"class","grouped-view svelte-cs93cu")},m(n,a){C(n,e,a);for(let o=0;o<s.length;o+=1)s[o].m(e,null)},p(n,a){if(a[0]&1055744){l=Object.entries(n[10]).sort(Pt);let o;for(o=0;o<l.length;o+=1){const u=Re(n,l,o);s[o]?s[o].p(u,a):(s[o]=dt(u),s[o].c(),s[o].m(e,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}},d(n){n&&y(e),he(s,n)}}}function hl(t){let e,l,s,n,a,o,u,p=t[13],f=[];for(let d=0;d<p.length;d+=1)f[d]=ht(We(t,p,d));let A=t[1],h=[];for(let d=0;d<A.length;d+=1)h[d]=Ot(Ge(t,A,d));return{c(){e=r("div"),l=r("div"),s=r("table"),n=r("thead"),a=r("tr");for(let d=0;d<f.length;d+=1)f[d].c();o=m(),u=r("tbody");for(let d=0;d<h.length;d+=1)h[d].c();i(a,"class","svelte-cs93cu"),i(n,"class","svelte-cs93cu"),i(u,"class","svelte-cs93cu"),i(s,"class","data-table svelte-cs93cu"),i(l,"class","table-scroll svelte-cs93cu"),i(e,"class","card table-card svelte-cs93cu")},m(d,O){C(d,e,O),c(e,l),c(l,s),c(s,n),c(n,a);for(let v=0;v<f.length;v+=1)f[v].m(a,null);c(s,o),c(s,u);for(let v=0;v<h.length;v+=1)h[v].m(u,null)},p(d,O){if(O[0]&2105728){p=d[13];let v;for(v=0;v<p.length;v+=1){const D=We(d,p,v);f[v]?f[v].p(D,O):(f[v]=ht(D),f[v].c(),f[v].m(a,null))}for(;v<f.length;v+=1)f[v].d(1);f.length=p.length}if(O[0]&204802){A=d[1];let v;for(v=0;v<A.length;v+=1){const D=Ge(d,A,v);h[v]?h[v].p(D,O):(h[v]=Ot(D),h[v].c(),h[v].m(u,null))}for(;v<h.length;v+=1)h[v].d(1);h.length=A.length}},d(d){d&&y(e),he(f,d),he(h,d)}}}function $e(t){let e;function l(o,u){if(typeof o[66][0].match_results=="string")return et;if(o[66][0].match_results.matches&&o[66][0].match_results.matches.length>0&&o[66][0].match_results.matches[0].matched_poll)return xe}function s(o,u){if(u===et)return tl(o);if(u===xe)return el(o)}let n=l(t),a=n&&n(s(t,n));return{c(){a&&a.c(),e=ue()},m(o,u){a&&a.m(o,u),C(o,e,u)},p(o,u){n===(n=l(o))&&a?a.p(s(o,n),u):(a&&a.d(1),a=n&&n(s(o,n)),a&&(a.c(),a.m(e.parentNode,e)))},d(o){a&&a.d(o),o&&y(e)}}}function xe(t){let e,l,s,n=t[65]+"",a,o,u,p,f,A,h=(t[56].pollster||"N/A")+"",d,O,v,D,P,F,H=(t[56].sponsor||"N/A")+"",Q,U,j,se,T,J,x=de(t[56])+"",Y,M,G,X,B,I,ee=(t[56].location||"N/A")+"",z,$,K,L,R,V,Z=(t[56].sample_size||"N/A")+"",E;return{c(){e=r("div"),l=r("h4"),s=k("Match ID: "),a=k(n),o=m(),u=r("div"),p=r("span"),p.textContent="Pollster:",f=m(),A=r("span"),d=k(h),O=m(),v=r("div"),D=r("span"),D.textContent="Sponsor:",P=m(),F=r("span"),Q=k(H),U=m(),j=r("div"),se=r("span"),se.textContent="Date:",T=m(),J=r("span"),Y=k(x),M=m(),G=r("div"),X=r("span"),X.textContent="Location:",B=m(),I=r("span"),z=k(ee),$=m(),K=r("div"),L=r("span"),L.textContent="Sample:",R=m(),V=r("span"),E=k(Z),i(l,"class","match-title svelte-cs93cu"),i(p,"class","field-label svelte-cs93cu"),i(A,"class","field-value svelte-cs93cu"),i(u,"class","match-field svelte-cs93cu"),i(D,"class","field-label svelte-cs93cu"),i(F,"class","field-value svelte-cs93cu"),i(v,"class","match-field svelte-cs93cu"),i(se,"class","field-label svelte-cs93cu"),i(J,"class","field-value svelte-cs93cu"),i(j,"class","match-field svelte-cs93cu"),i(X,"class","field-label svelte-cs93cu"),i(I,"class","field-value svelte-cs93cu"),i(G,"class","match-field svelte-cs93cu"),i(L,"class","field-label svelte-cs93cu"),i(V,"class","field-value svelte-cs93cu"),i(K,"class","match-field svelte-cs93cu"),i(e,"class","match-card group-match svelte-cs93cu")},m(W,te){C(W,e,te),c(e,l),c(l,s),c(l,a),c(e,o),c(e,u),c(u,p),c(u,f),c(u,A),c(A,d),c(e,O),c(e,v),c(v,D),c(v,P),c(v,F),c(F,Q),c(e,U),c(e,j),c(j,se),c(j,T),c(j,J),c(J,Y),c(e,M),c(e,G),c(G,X),c(G,B),c(G,I),c(I,z),c(e,$),c(e,K),c(K,L),c(K,R),c(K,V),c(V,E)},p(W,te){te[0]&1024&&n!==(n=W[65]+"")&&S(a,n),te[0]&1024&&h!==(h=(W[56].pollster||"N/A")+"")&&S(d,h),te[0]&1024&&H!==(H=(W[56].sponsor||"N/A")+"")&&S(Q,H),te[0]&1024&&x!==(x=de(W[56])+"")&&S(Y,x),te[0]&1024&&ee!==(ee=(W[56].location||"N/A")+"")&&S(z,ee),te[0]&1024&&Z!==(Z=(W[56].sample_size||"N/A")+"")&&S(E,Z)},d(W){W&&y(e)}}}function et(t){let e,l=t[53].matches&&t[53].matches.length>0&&t[53].matches[0].matched_poll&&tt(De(t));return{c(){l&&l.c(),e=ue()},m(s,n){l&&l.m(s,n),C(s,e,n)},p(s,n){s[53].matches&&s[53].matches.length>0&&s[53].matches[0].matched_poll?l?l.p(De(s),n):(l=tt(De(s)),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(s){l&&l.d(s),s&&y(e)}}}function tt(t){let e,l,s,n,a,o=(t[56].pollster||"N/A")+"",u,p,f,A,h,d,O=(t[56].sponsor||"N/A")+"",v,D,P,F,H,Q,U=de(t[56])+"",j,se,T,J,x,Y,M=(t[56].location||"N/A")+"",G,X,B,I,ee,z,$=(t[56].sample_size||"N/A")+"",K;return{c(){e=r("div"),l=r("div"),s=r("span"),s.textContent="Pollster:",n=m(),a=r("span"),u=k(o),p=m(),f=r("div"),A=r("span"),A.textContent="Sponsor:",h=m(),d=r("span"),v=k(O),D=m(),P=r("div"),F=r("span"),F.textContent="Date:",H=m(),Q=r("span"),j=k(U),se=m(),T=r("div"),J=r("span"),J.textContent="Location:",x=m(),Y=r("span"),G=k(M),X=m(),B=r("div"),I=r("span"),I.textContent="Sample:",ee=m(),z=r("span"),K=k($),i(s,"class","field-label svelte-cs93cu"),i(a,"class","field-value svelte-cs93cu"),i(l,"class","match-field svelte-cs93cu"),i(A,"class","field-label svelte-cs93cu"),i(d,"class","field-value svelte-cs93cu"),i(f,"class","match-field svelte-cs93cu"),i(F,"class","field-label svelte-cs93cu"),i(Q,"class","field-value svelte-cs93cu"),i(P,"class","match-field svelte-cs93cu"),i(J,"class","field-label svelte-cs93cu"),i(Y,"class","field-value svelte-cs93cu"),i(T,"class","match-field svelte-cs93cu"),i(I,"class","field-label svelte-cs93cu"),i(z,"class","field-value svelte-cs93cu"),i(B,"class","match-field svelte-cs93cu"),i(e,"class","match-card group-match svelte-cs93cu")},m(L,R){C(L,e,R),c(e,l),c(l,s),c(l,n),c(l,a),c(a,u),c(e,p),c(e,f),c(f,A),c(f,h),c(f,d),c(d,v),c(e,D),c(e,P),c(P,F),c(P,H),c(P,Q),c(Q,j),c(e,se),c(e,T),c(T,J),c(T,x),c(T,Y),c(Y,G),c(e,X),c(e,B),c(B,I),c(B,ee),c(B,z),c(z,K)},p(L,R){R[0]&1024&&o!==(o=(L[56].pollster||"N/A")+"")&&S(u,o),R[0]&1024&&O!==(O=(L[56].sponsor||"N/A")+"")&&S(v,O),R[0]&1024&&U!==(U=de(L[56])+"")&&S(j,U),R[0]&1024&&M!==(M=(L[56].location||"N/A")+"")&&S(G,M),R[0]&1024&&$!==($=(L[56].sample_size||"N/A")+"")&&S(K,$)},d(L){L&&y(e)}}}function lt(t){let e,l=t[12]==="asc"?"\u25B2":"\u25BC",s;return{c(){e=r("span"),s=k(l),i(e,"class","sort svelte-cs93cu")},m(n,a){C(n,e,a),c(e,s)},p(n,a){a[0]&4096&&l!==(l=n[12]==="asc"?"\u25B2":"\u25BC")&&S(s,l)},d(n){n&&y(e)}}}function st(t){let e,l=t[12]==="asc"?"\u25B2":"\u25BC",s;return{c(){e=r("span"),s=k(l),i(e,"class","sort svelte-cs93cu")},m(n,a){C(n,e,a),c(e,s)},p(n,a){a[0]&4096&&l!==(l=n[12]==="asc"?"\u25B2":"\u25BC")&&S(s,l)},d(n){n&&y(e)}}}function nt(t){let e,l=t[12]==="asc"?"\u25B2":"\u25BC",s;return{c(){e=r("span"),s=k(l),i(e,"class","sort svelte-cs93cu")},m(n,a){C(n,e,a),c(e,s)},p(n,a){a[0]&4096&&l!==(l=n[12]==="asc"?"\u25B2":"\u25BC")&&S(s,l)},d(n){n&&y(e)}}}function ct(t){let e,l=t[12]==="asc"?"\u25B2":"\u25BC",s;return{c(){e=r("span"),s=k(l),i(e,"class","sort svelte-cs93cu")},m(n,a){C(n,e,a),c(e,s)},p(n,a){a[0]&4096&&l!==(l=n[12]==="asc"?"\u25B2":"\u25BC")&&S(s,l)},d(n){n&&y(e)}}}function ot(t){let e,l=t[12]==="asc"?"\u25B2":"\u25BC",s;return{c(){e=r("span"),s=k(l),i(e,"class","sort svelte-cs93cu")},m(n,a){C(n,e,a),c(e,s)},p(n,a){a[0]&4096&&l!==(l=n[12]==="asc"?"\u25B2":"\u25BC")&&S(s,l)},d(n){n&&y(e)}}}function vl(t){let e,l=t[57],s=[];for(let n=0;n<l.length;n+=1)s[n]=rt(He(t,l,n));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=ue()},m(n,a){for(let o=0;o<s.length;o+=1)s[o].m(n,a);C(n,e,a)},p(n,a){if(a[0]&1024){l=n[57];let o;for(o=0;o<l.length;o+=1){const u=He(n,l,o);s[o]?s[o].p(u,a):(s[o]=rt(u),s[o].c(),s[o].m(e.parentNode,e))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}},d(n){he(s,n),n&&y(e)}}}function at(t){let e,l=t[57],s=[];for(let n=0;n<l.length;n+=1)s[n]=ft(qe(t,l,n));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=ue()},m(n,a){for(let o=0;o<s.length;o+=1)s[o].m(n,a);C(n,e,a)},p(n,a){if(a[0]&1024){l=n[57];let o;for(o=0;o<l.length;o+=1){const u=qe(n,l,o);s[o]?s[o].p(u,a):(s[o]=ft(u),s[o].c(),s[o].m(e.parentNode,e))}for(;o<s.length;o+=1)s[o].d(1);s.length=l.length}},d(n){he(s,n),n&&y(e)}}}function it(t){let e,l,s,n=t[51]+"",a,o,u,p=t[52]+"",f,A,h,d,O,v=t[48]+"",D,P,F,H=(t[49].length>40?t[49].substring(0,40)+"\u2026":t[49])+"",Q,U,j,se,T,J=(t[59].pollster||"N/A")+"",x,Y,M,G=(t[59].sponsor||"N/A")+"",X,B,I,ee=(t[59].start_date||t[59].date||"N/A")+"",z,$,K,L=(t[59].end_date||"N/A")+"",R,V,Z,E=me(t[59])+"",W,te,ne,N;return{c(){e=r("tr"),l=r("td"),s=r("div"),a=k(n),o=m(),u=r("div"),f=k(p),A=m(),h=r("td"),d=r("a"),O=r("span"),D=k(v),P=m(),F=r("span"),Q=k(H),se=m(),T=r("td"),x=k(J),Y=m(),M=r("td"),X=k(G),B=m(),I=r("td"),z=k(ee),$=m(),K=r("td"),R=k(L),V=m(),Z=r("td"),W=k(E),te=m(),ne=r("td"),ne.textContent="N/A",N=m(),i(s,"class","date svelte-cs93cu"),i(u,"class","time svelte-cs93cu"),i(l,"class","date-cell svelte-cs93cu"),i(O,"class","url-domain svelte-cs93cu"),i(F,"class","url-path svelte-cs93cu"),i(d,"href",U=t[41].url),i(d,"target","_blank"),i(d,"rel","noopener noreferrer"),i(d,"title",j=t[41].url),i(d,"class","svelte-cs93cu"),i(h,"class","url-cell svelte-cs93cu"),i(T,"class","svelte-cs93cu"),i(M,"class","svelte-cs93cu"),i(I,"class","svelte-cs93cu"),i(K,"class","svelte-cs93cu"),i(Z,"class","svelte-cs93cu"),i(ne,"class","svelte-cs93cu"),i(e,"class","svelte-cs93cu")},m(_,w){C(_,e,w),c(e,l),c(l,s),c(s,a),c(l,o),c(l,u),c(u,f),c(e,A),c(e,h),c(h,d),c(d,O),c(O,D),c(d,P),c(d,F),c(F,Q),c(e,se),c(e,T),c(T,x),c(e,Y),c(e,M),c(M,X),c(e,B),c(e,I),c(I,z),c(e,$),c(e,K),c(K,R),c(e,V),c(e,Z),c(Z,W),c(e,te),c(e,ne),c(e,N)},p(_,w){w[0]&1024&&n!==(n=_[51]+"")&&S(a,n),w[0]&1024&&p!==(p=_[52]+"")&&S(f,p),w[0]&1024&&v!==(v=_[48]+"")&&S(D,v),w[0]&1024&&H!==(H=(_[49].length>40?_[49].substring(0,40)+"\u2026":_[49])+"")&&S(Q,H),w[0]&1024&&U!==(U=_[41].url)&&i(d,"href",U),w[0]&1024&&j!==(j=_[41].url)&&i(d,"title",j),w[0]&1024&&J!==(J=(_[59].pollster||"N/A")+"")&&S(x,J),w[0]&1024&&G!==(G=(_[59].sponsor||"N/A")+"")&&S(X,G),w[0]&1024&&ee!==(ee=(_[59].start_date||_[59].date||"N/A")+"")&&S(z,ee),w[0]&1024&&L!==(L=(_[59].end_date||"N/A")+"")&&S(R,L),w[0]&1024&&E!==(E=me(_[59])+"")&&S(W,E)},d(_){_&&y(e)}}}function rt(t){let e,l=t[59]&&it(t);return{c(){l&&l.c(),e=ue()},m(s,n){l&&l.m(s,n),C(s,e,n)},p(s,n){s[59]?l?l.p(s,n):(l=it(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(s){l&&l.d(s),s&&y(e)}}}function ut(t){let e,l,s,n=t[51]+"",a,o,u,p=t[52]+"",f,A,h,d,O,v=t[48]+"",D,P,F,H=(t[49].length>40?t[49].substring(0,40)+"\u2026":t[49])+"",Q,U,j,se,T,J=(t[59].pollster||"N/A")+"",x,Y,M,G=(t[59].sponsor||"N/A")+"",X,B,I,ee=(t[59].start_date||t[59].date||"N/A")+"",z,$,K,L=(t[59].end_date||"N/A")+"",R,V,Z,E=me(t[59])+"",W,te,ne,N=(typeof t[72]=="number"?t[72].toFixed(2):t[72])+"",_,w;return{c(){e=r("tr"),l=r("td"),s=r("div"),a=k(n),o=m(),u=r("div"),f=k(p),A=m(),h=r("td"),d=r("a"),O=r("span"),D=k(v),P=m(),F=r("span"),Q=k(H),se=m(),T=r("td"),x=k(J),Y=m(),M=r("td"),X=k(G),B=m(),I=r("td"),z=k(ee),$=m(),K=r("td"),R=k(L),V=m(),Z=r("td"),W=k(E),te=m(),ne=r("td"),_=k(N),w=m(),i(s,"class","date svelte-cs93cu"),i(u,"class","time svelte-cs93cu"),i(l,"class","date-cell svelte-cs93cu"),i(O,"class","url-domain svelte-cs93cu"),i(F,"class","url-path svelte-cs93cu"),i(d,"href",U=t[41].url),i(d,"target","_blank"),i(d,"rel","noopener noreferrer"),i(d,"title",j=t[41].url),i(d,"class","svelte-cs93cu"),i(h,"class","url-cell svelte-cs93cu"),i(T,"class","svelte-cs93cu"),i(M,"class","svelte-cs93cu"),i(I,"class","svelte-cs93cu"),i(K,"class","svelte-cs93cu"),i(Z,"class","svelte-cs93cu"),i(ne,"class","svelte-cs93cu"),i(e,"class","svelte-cs93cu")},m(g,b){C(g,e,b),c(e,l),c(l,s),c(s,a),c(l,o),c(l,u),c(u,f),c(e,A),c(e,h),c(h,d),c(d,O),c(O,D),c(d,P),c(d,F),c(F,Q),c(e,se),c(e,T),c(T,x),c(e,Y),c(e,M),c(M,X),c(e,B),c(e,I),c(I,z),c(e,$),c(e,K),c(K,R),c(e,V),c(e,Z),c(Z,W),c(e,te),c(e,ne),c(ne,_),c(e,w)},p(g,b){b[0]&1024&&n!==(n=g[51]+"")&&S(a,n),b[0]&1024&&p!==(p=g[52]+"")&&S(f,p),b[0]&1024&&v!==(v=g[48]+"")&&S(D,v),b[0]&1024&&H!==(H=(g[49].length>40?g[49].substring(0,40)+"\u2026":g[49])+"")&&S(Q,H),b[0]&1024&&U!==(U=g[41].url)&&i(d,"href",U),b[0]&1024&&j!==(j=g[41].url)&&i(d,"title",j),b[0]&1024&&J!==(J=(g[59].pollster||"N/A")+"")&&S(x,J),b[0]&1024&&G!==(G=(g[59].sponsor||"N/A")+"")&&S(X,G),b[0]&1024&&ee!==(ee=(g[59].start_date||g[59].date||"N/A")+"")&&S(z,ee),b[0]&1024&&L!==(L=(g[59].end_date||"N/A")+"")&&S(R,L),b[0]&1024&&E!==(E=me(g[59])+"")&&S(W,E),b[0]&1024&&N!==(N=(typeof g[72]=="number"?g[72].toFixed(2):g[72])+"")&&S(_,N)},d(g){g&&y(e)}}}function ft(t){let e,l=t[59]&&ut(t);return{c(){l&&l.c(),e=ue()},m(s,n){l&&l.m(s,n),C(s,e,n)},p(s,n){s[59]?l?l.p(s,n):(l=ut(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(s){l&&l.d(s),s&&y(e)}}}function _t(t){let e;function l(o,u){return o[41].match_results?at:vl}function s(o,u){return u===at?xt(o):o}let n=l(t),a=n(s(t,n));return{c(){a.c(),e=ue()},m(o,u){a.m(o,u),C(o,e,u)},p(o,u){n===(n=l(o))&&a?a.p(s(o,n),u):(a.d(1),a=n(s(o,n)),a&&(a.c(),a.m(e.parentNode,e)))},d(o){a.d(o),o&&y(e)}}}function dt(t){let e,l,s,n=t[66].length+"",a,o,u=t[66].length!==1?"s":"",p,f,A,h,d,O,v,D,P,F,H,Q,U,j,se,T,J,x,Y,M,G,X,B,I,ee,z,$,K,L,R,V,Z,E=t[65]!=="No Match"&&t[66][0].match_results&&$e(t),W=t[11]==="added_on"&&lt(t),te=t[11]==="url"&&st(t),ne=t[11]==="pollster"&&nt(t),N=t[11]==="sponsor"&&ct(t),_=t[11]==="confidence"&&ot(t),w=t[66],g=[];for(let b=0;b<w.length;b+=1)g[b]=_t(Ve(t,w,b));return{c(){e=r("div"),l=r("h3"),s=r("span"),a=k(n),o=k(" article"),p=k(u),f=m(),E&&E.c(),A=m(),h=r("div"),d=r("table"),O=r("thead"),v=r("tr"),D=r("th"),P=k(`Added On
                      `),W&&W.c(),F=m(),H=r("th"),Q=k(`URL
                      `),te&&te.c(),U=m(),j=r("th"),se=k(`Pollster
                      `),ne&&ne.c(),T=m(),J=r("th"),x=k(`Sponsor
                      `),N&&N.c(),Y=m(),M=r("th"),M.textContent="Start Date",G=m(),X=r("th"),X.textContent="End Date",B=m(),I=r("th"),I.textContent="Sample Size",ee=m(),z=r("th"),$=k(`Confidence
                      `),_&&_.c(),K=m(),L=r("tbody");for(let b=0;b<g.length;b+=1)g[b].c();R=m(),i(s,"class","group-count svelte-cs93cu"),i(l,"class","group-header svelte-cs93cu"),i(D,"class","sortable svelte-cs93cu"),i(H,"class","sortable svelte-cs93cu"),i(j,"class","sortable svelte-cs93cu"),i(J,"class","sortable svelte-cs93cu"),i(M,"class","svelte-cs93cu"),i(X,"class","svelte-cs93cu"),i(I,"class","svelte-cs93cu"),i(z,"class","sortable svelte-cs93cu"),i(v,"class","svelte-cs93cu"),i(O,"class","svelte-cs93cu"),i(L,"class","svelte-cs93cu"),i(d,"class","group-table svelte-cs93cu"),i(h,"class","group-table-wrapper svelte-cs93cu"),i(e,"class","group-card svelte-cs93cu")},m(b,q){C(b,e,q),c(e,l),c(l,s),c(s,a),c(s,o),c(s,p),c(e,f),E&&E.m(e,null),c(e,A),c(e,h),c(h,d),c(d,O),c(O,v),c(v,D),c(D,P),W&&W.m(D,null),c(v,F),c(v,H),c(H,Q),te&&te.m(H,null),c(v,U),c(v,j),c(j,se),ne&&ne.m(j,null),c(v,T),c(v,J),c(J,x),N&&N.m(J,null),c(v,Y),c(v,M),c(v,G),c(v,X),c(v,B),c(v,I),c(v,ee),c(v,z),c(z,$),_&&_.m(z,null),c(d,K),c(d,L);for(let le=0;le<g.length;le+=1)g[le].m(L,null);c(e,R),V||(Z=[oe(D,"click",t[32]),oe(H,"click",t[33]),oe(j,"click",t[34]),oe(J,"click",t[35]),oe(z,"click",t[36])],V=!0)},p(b,q){if(q[0]&1024&&n!==(n=b[66].length+"")&&S(a,n),q[0]&1024&&u!==(u=b[66].length!==1?"s":"")&&S(p,u),b[65]!=="No Match"&&b[66][0].match_results?E?E.p(b,q):(E=$e(b),E.c(),E.m(e,A)):E&&(E.d(1),E=null),b[11]==="added_on"?W?W.p(b,q):(W=lt(b),W.c(),W.m(D,null)):W&&(W.d(1),W=null),b[11]==="url"?te?te.p(b,q):(te=st(b),te.c(),te.m(H,null)):te&&(te.d(1),te=null),b[11]==="pollster"?ne?ne.p(b,q):(ne=nt(b),ne.c(),ne.m(j,null)):ne&&(ne.d(1),ne=null),b[11]==="sponsor"?N?N.p(b,q):(N=ct(b),N.c(),N.m(J,null)):N&&(N.d(1),N=null),b[11]==="confidence"?_?_.p(b,q):(_=ot(b),_.c(),_.m(z,null)):_&&(_.d(1),_=null),q[0]&1024){w=b[66];let le;for(le=0;le<w.length;le+=1){const ce=Ve(b,w,le);g[le]?g[le].p(ce,q):(g[le]=_t(ce),g[le].c(),g[le].m(L,null))}for(;le<g.length;le+=1)g[le].d(1);g.length=w.length}},d(b){b&&y(e),E&&E.d(),W&&W.d(),te&&te.d(),ne&&ne.d(),N&&N.d(),_&&_.d(),he(g,b),V=!1,ve(Z)}}}function ml(t){let e=t[44]+"",l;return{c(){l=k(e)},m(s,n){C(s,l,n)},p(s,n){n[0]&8192&&e!==(e=s[44]+"")&&S(l,e)},d(s){s&&y(l)}}}function bl(t){let e;return{c(){e=k("Notes")},m(l,s){C(l,e,s)},p:ae,d(l){l&&y(e)}}}function kl(t){let e;return{c(){e=k("Feedback")},m(l,s){C(l,e,s)},p:ae,d(l){l&&y(e)}}}function gl(t){let e;return{c(){e=k("Matched Poll ID")},m(l,s){C(l,e,s)},p:ae,d(l){l&&y(e)}}}function Nl(t){let e;return{c(){e=k("Matched Poll")},m(l,s){C(l,e,s)},p:ae,d(l){l&&y(e)}}}function Al(t){let e;return{c(){e=k("\u{1F916} Extracted Polls")},m(l,s){C(l,e,s)},p:ae,d(l){l&&y(e)}}}function pt(t){let e,l=t[8]==="asc"?"\u25B2":"\u25BC",s;return{c(){e=r("span"),s=k(l),i(e,"class","sort svelte-cs93cu")},m(n,a){C(n,e,a),c(e,s)},p(n,a){a[0]&256&&l!==(l=n[8]==="asc"?"\u25B2":"\u25BC")&&S(s,l)},d(n){n&&y(e)}}}function ht(t){let e,l,s,n,a;function o(h,d){return h[44]==="polls"?Al:h[44]==="match_results"?Nl:h[44]==="match_poll_id"?gl:h[44]==="feedback"?kl:h[44]==="notes"?bl:ml}let u=o(t),p=u(t),f=t[7]===t[44]&&t[44]!=="feedback"&&t[44]!=="notes"&&pt(t);function A(){return t[27](t[44])}return{c(){e=r("th"),p.c(),l=m(),f&&f.c(),s=m(),i(e,"class","svelte-cs93cu"),fe(e,"sortable",t[44]!=="feedback"&&t[44]!=="notes")},m(h,d){C(h,e,d),p.m(e,null),c(e,l),f&&f.m(e,null),c(e,s),n||(a=oe(e,"click",A),n=!0)},p(h,d){t=h,u===(u=o(t))&&p?p.p(t,d):(p.d(1),p=u(t),p&&(p.c(),p.m(e,l))),t[7]===t[44]&&t[44]!=="feedback"&&t[44]!=="notes"?f?f.p(t,d):(f=pt(t),f.c(),f.m(e,s)):f&&(f.d(1),f=null),d[0]&8192&&fe(e,"sortable",t[44]!=="feedback"&&t[44]!=="notes")},d(h){h&&y(e),p.d(),f&&f.d(),n=!1,a()}}}function wl(t){let e=(t[41][t[44]]||"")+"",l;return{c(){l=k(e)},m(s,n){C(s,l,n)},p(s,n){n[0]&8194&&e!==(e=(s[41][s[44]]||"")+"")&&S(l,e)},d(s){s&&y(l)}}}function yl(t){let e,l=JSON.stringify(t[41][t[44]],null,2)+"",s;return{c(){e=r("pre"),s=k(l),i(e,"class","json svelte-cs93cu")},m(n,a){C(n,e,a),c(e,s)},p(n,a){a[0]&8194&&l!==(l=JSON.stringify(n[41][n[44]],null,2)+"")&&S(s,l)},d(n){n&&y(e)}}}function Cl(t){let e,l,s,n,a;function o(...u){return t[31](t[41],...u)}return{c(){e=r("div"),l=r("textarea"),i(l,"class","notes-input svelte-cs93cu"),i(l,"placeholder","Add notes..."),l.value=s=t[41].notes||"",i(l,"rows","3"),i(e,"class","notes-container svelte-cs93cu")},m(u,p){C(u,e,p),c(e,l),n||(a=oe(l,"blur",o),n=!0)},p(u,p){t=u,p[0]&2&&s!==(s=t[41].notes||"")&&(l.value=s)},d(u){u&&y(e),n=!1,a()}}}function vt(t){let e,l,s,n,a,o,u,p;function f(){return t[28](t[41])}function A(){return t[29](t[41])}function h(){return t[30](t[41])}return{c(){e=r("div"),l=r("button"),l.textContent="\u2713 Correct",s=m(),n=r("button"),n.textContent="\u2717 Incorrect",a=m(),o=r("button"),o.textContent="\u2298 Not Interested",i(l,"class","btn-feedback svelte-cs93cu"),fe(l,"selected",t[41].feedback==="correct"),i(n,"class","btn-feedback svelte-cs93cu"),fe(n,"selected",t[41].feedback==="incorrect"),i(o,"class","btn-feedback btn-not-interested svelte-cs93cu"),fe(o,"selected",t[41].feedback==="not_interested"),i(e,"class","feedback-buttons svelte-cs93cu")},m(d,O){C(d,e,O),c(e,l),c(e,s),c(e,n),c(e,a),c(e,o),u||(p=[oe(l,"click",f),oe(n,"click",A),oe(o,"click",h)],u=!0)},p(d,O){t=d,O[0]&2&&fe(l,"selected",t[41].feedback==="correct"),O[0]&2&&fe(n,"selected",t[41].feedback==="incorrect"),O[0]&2&&fe(o,"selected",t[41].feedback==="not_interested")},d(d){d&&y(e),u=!1,ve(p)}}}function mt(t){let e;function l(a,o){return a[57].length>0?Ll:Dl}let s=l(t),n=s(t);return{c(){n.c(),e=ue()},m(a,o){n.m(a,o),C(a,e,o)},p(a,o){s===(s=l(a))&&n?n.p(a,o):(n.d(1),n=s(a),n&&(n.c(),n.m(e.parentNode,e)))},d(a){n.d(a),a&&y(e)}}}function Sl(t){let e;function l(o,u){return typeof o[41][o[44]]=="string"?yt:o[41][o[44]].matches&&o[41][o[44]].matches.length>0&&o[41][o[44]].matches[0].matched_poll?wt:jl}function s(o,u){return u===yt?nl(o):u===wt?sl(o):o}let n=l(t),a=n(s(t,n));return{c(){a.c(),e=ue()},m(o,u){a.m(o,u),C(o,e,u)},p(o,u){n===(n=l(o))&&a?a.p(s(o,n),u):(a.d(1),a=n(s(o,n)),a&&(a.c(),a.m(e.parentNode,e)))},d(o){a.d(o),o&&y(e)}}}function Ol(t){let e,l=t[41][t[44]]+"",s;return{c(){e=r("span"),s=k(l),i(e,"class","badge-value svelte-cs93cu")},m(n,a){C(n,e,a),c(e,s)},p(n,a){a[0]&8194&&l!==(l=n[41][n[44]]+"")&&S(s,l)},d(n){n&&y(e)}}}function bt(t){let e,l,s=t[51]+"",n,a,o,u=t[52]+"",p;return{c(){e=r("div"),l=r("div"),n=k(s),a=m(),o=r("div"),p=k(u),i(l,"class","date svelte-cs93cu"),i(o,"class","time svelte-cs93cu"),i(e,"class","datetime svelte-cs93cu")},m(f,A){C(f,e,A),c(e,l),c(l,n),c(e,a),c(e,o),c(o,p)},p(f,A){A[0]&8194&&s!==(s=f[51]+"")&&S(n,s),A[0]&8194&&u!==(u=f[52]+"")&&S(p,u)},d(f){f&&y(e)}}}function kt(t){let e,l,s=t[48]+"",n,a,o,u=(t[49].length>40?t[49].substring(0,40)+"\u2026":t[49])+"",p,f,A;return{c(){e=r("a"),l=r("span"),n=k(s),a=m(),o=r("span"),p=k(u),i(l,"class","url-domain svelte-cs93cu"),i(o,"class","url-path svelte-cs93cu"),i(e,"class","url-link svelte-cs93cu"),i(e,"href",f=t[41][t[44]]),i(e,"target","_blank"),i(e,"rel","noopener noreferrer"),i(e,"title",A=t[41][t[44]])},m(h,d){C(h,e,d),c(e,l),c(l,n),c(e,a),c(e,o),c(o,p)},p(h,d){d[0]&8194&&s!==(s=h[48]+"")&&S(n,s),d[0]&8194&&u!==(u=(h[49].length>40?h[49].substring(0,40)+"\u2026":h[49])+"")&&S(p,u),d[0]&8194&&f!==(f=h[41][h[44]])&&i(e,"href",f),d[0]&8194&&A!==(A=h[41][h[44]])&&i(e,"title",A)},d(h){h&&y(e)}}}function Dl(t){let e;return{c(){e=r("span"),e.textContent="No poll info",i(e,"class","muted svelte-cs93cu")},m(l,s){C(l,e,s)},p:ae,d(l){l&&y(e)}}}function Ll(t){let e,l,s=t[57].slice(0,3),n=[];for(let o=0;o<s.length;o+=1)n[o]=Nt(Ke(t,s,o));let a=t[57].length>3&&At(t);return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=m(),a&&a.c(),l=ue()},m(o,u){for(let p=0;p<n.length;p+=1)n[p].m(o,u);C(o,e,u),a&&a.m(o,u),C(o,l,u)},p(o,u){if(u[0]&8194){s=o[57].slice(0,3);let p;for(p=0;p<s.length;p+=1){const f=Ke(o,s,p);n[p]?n[p].p(f,u):(n[p]=Nt(f),n[p].c(),n[p].m(e.parentNode,e))}for(;p<n.length;p+=1)n[p].d(1);n.length=s.length}o[57].length>3?a?a.p(o,u):(a=At(o),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},d(o){he(n,o),o&&y(e),a&&a.d(o),o&&y(l)}}}function Pl(t){let e,l,s,n=t[61]+1+"",a,o,u,p,f=(typeof t[58]=="string"?t[58]:JSON.stringify(t[58]))+"",A;return{c(){e=r("div"),l=r("span"),s=k("Poll "),a=k(n),o=k(":"),u=m(),p=r("span"),A=k(f),i(l,"class","field-label svelte-cs93cu"),i(p,"class","field-value svelte-cs93cu"),i(e,"class","match-field svelte-cs93cu"),Mt(e,"margin-bottom","8px")},m(h,d){C(h,e,d),c(e,l),c(l,s),c(l,a),c(l,o),c(e,u),c(e,p),c(p,A)},p(h,d){d[0]&8194&&f!==(f=(typeof h[58]=="string"?h[58]:JSON.stringify(h[58]))+"")&&S(A,f)},d(h){h&&y(e)}}}function El(t){let e,l,s,n,a,o=(t[59].pollster||"N/A")+"",u,p,f,A,h,d,O=(t[59].sponsor||"N/A")+"",v,D,P,F,H,Q,U=de(t[59])+"",j,se,T,J,x,Y,M=(t[59].location||"N/A")+"",G,X,B,I,ee,z,$=me(t[59])+"",K,L,R=t[59].poll_url&&Lt(t[59].poll_url),V=R&&gt(t);return{c(){e=r("div"),l=r("div"),s=r("span"),s.textContent="Pollster:",n=m(),a=r("span"),u=k(o),p=m(),f=r("div"),A=r("span"),A.textContent="Sponsor:",h=m(),d=r("span"),v=k(O),D=m(),P=r("div"),F=r("span"),F.textContent="Date:",H=m(),Q=r("span"),j=k(U),se=m(),T=r("div"),J=r("span"),J.textContent="Location:",x=m(),Y=r("span"),G=k(M),X=m(),B=r("div"),I=r("span"),I.textContent="Sample:",ee=m(),z=r("span"),K=k($),L=m(),V&&V.c(),i(s,"class","field-label svelte-cs93cu"),i(a,"class","field-value svelte-cs93cu"),i(l,"class","match-field svelte-cs93cu"),i(A,"class","field-label svelte-cs93cu"),i(d,"class","field-value svelte-cs93cu"),i(f,"class","match-field svelte-cs93cu"),i(F,"class","field-label svelte-cs93cu"),i(Q,"class","field-value svelte-cs93cu"),i(P,"class","match-field svelte-cs93cu"),i(J,"class","field-label svelte-cs93cu"),i(Y,"class","field-value svelte-cs93cu"),i(T,"class","match-field svelte-cs93cu"),i(I,"class","field-label svelte-cs93cu"),i(z,"class","field-value svelte-cs93cu"),i(B,"class","match-field svelte-cs93cu"),i(e,"class","match-card svelte-cs93cu"),Mt(e,"margin-bottom","8px")},m(Z,E){C(Z,e,E),c(e,l),c(l,s),c(l,n),c(l,a),c(a,u),c(e,p),c(e,f),c(f,A),c(f,h),c(f,d),c(d,v),c(e,D),c(e,P),c(P,F),c(P,H),c(P,Q),c(Q,j),c(e,se),c(e,T),c(T,J),c(T,x),c(T,Y),c(Y,G),c(e,X),c(e,B),c(B,I),c(B,ee),c(B,z),c(z,K),c(e,L),V&&V.m(e,null)},p(Z,E){E[0]&8194&&o!==(o=(Z[59].pollster||"N/A")+"")&&S(u,o),E[0]&8194&&O!==(O=(Z[59].sponsor||"N/A")+"")&&S(v,O),E[0]&8194&&U!==(U=de(Z[59])+"")&&S(j,U),E[0]&8194&&M!==(M=(Z[59].location||"N/A")+"")&&S(G,M),E[0]&8194&&$!==($=me(Z[59])+"")&&S(K,$),E[0]&8194&&(R=Z[59].poll_url&&Lt(Z[59].poll_url)),R?V?V.p(Z,E):(V=gt(Z),V.c(),V.m(e,null)):V&&(V.d(1),V=null)},d(Z){Z&&y(e),V&&V.d()}}}function gt(t){let e,l,s,n,a,o,u;return{c(){e=r("div"),l=r("span"),l.textContent="Link:",s=m(),n=r("span"),a=r("a"),o=k("Source"),i(l,"class","field-label svelte-cs93cu"),i(a,"href",u=t[59].poll_url),i(a,"target","_blank"),i(a,"rel","noopener noreferrer"),i(a,"class","svelte-cs93cu"),i(n,"class","field-value svelte-cs93cu"),i(e,"class","match-field svelte-cs93cu")},m(p,f){C(p,e,f),c(e,l),c(e,s),c(e,n),c(n,a),c(a,o)},p(p,f){f[0]&8194&&u!==(u=p[59].poll_url)&&i(a,"href",u)},d(p){p&&y(e)}}}function Nt(t){let e;function l(a,o){return a[59]?El:Pl}let s=l(t),n=s(t);return{c(){n.c(),e=ue()},m(a,o){n.m(a,o),C(a,e,o)},p(a,o){s===(s=l(a))&&n?n.p(a,o):(n.d(1),n=s(a),n&&(n.c(),n.m(e.parentNode,e)))},d(a){n.d(a),a&&y(e)}}}function At(t){let e,l,s=t[57].length-3+"",n,a,o=t[57].length-3>1?"s":"",u;return{c(){e=r("div"),l=k("+"),n=k(s),a=k(" more poll"),u=k(o),i(e,"class","poll-more svelte-cs93cu")},m(p,f){C(p,e,f),c(e,l),c(e,n),c(e,a),c(e,u)},p(p,f){f[0]&8194&&s!==(s=p[57].length-3+"")&&S(n,s),f[0]&8194&&o!==(o=p[57].length-3>1?"s":"")&&S(u,o)},d(p){p&&y(e)}}}function jl(t){let e;return{c(){e=r("span"),e.textContent="No match found",i(e,"class","muted svelte-cs93cu")},m(l,s){C(l,e,s)},p:ae,d(l){l&&y(e)}}}function wt(t){let e,l,s,n,a,o=(t[56].pollster||"N/A")+"",u,p,f,A,h,d,O=(t[56].sponsor||"N/A")+"",v,D,P,F,H,Q,U=de(t[56])+"",j,se,T,J,x,Y,M=(t[56].location||"N/A")+"",G,X,B,I,ee,z,$=(t[56].sample_size||"N/A")+"",K;return{c(){e=r("div"),l=r("div"),s=r("span"),s.textContent="Pollster:",n=m(),a=r("span"),u=k(o),p=m(),f=r("div"),A=r("span"),A.textContent="Sponsor:",h=m(),d=r("span"),v=k(O),D=m(),P=r("div"),F=r("span"),F.textContent="Date:",H=m(),Q=r("span"),j=k(U),se=m(),T=r("div"),J=r("span"),J.textContent="Location:",x=m(),Y=r("span"),G=k(M),X=m(),B=r("div"),I=r("span"),I.textContent="Sample:",ee=m(),z=r("span"),K=k($),i(s,"class","field-label svelte-cs93cu"),i(a,"class","field-value svelte-cs93cu"),i(l,"class","match-field svelte-cs93cu"),i(A,"class","field-label svelte-cs93cu"),i(d,"class","field-value svelte-cs93cu"),i(f,"class","match-field svelte-cs93cu"),i(F,"class","field-label svelte-cs93cu"),i(Q,"class","field-value svelte-cs93cu"),i(P,"class","match-field svelte-cs93cu"),i(J,"class","field-label svelte-cs93cu"),i(Y,"class","field-value svelte-cs93cu"),i(T,"class","match-field svelte-cs93cu"),i(I,"class","field-label svelte-cs93cu"),i(z,"class","field-value svelte-cs93cu"),i(B,"class","match-field svelte-cs93cu"),i(e,"class","match-card svelte-cs93cu")},m(L,R){C(L,e,R),c(e,l),c(l,s),c(l,n),c(l,a),c(a,u),c(e,p),c(e,f),c(f,A),c(f,h),c(f,d),c(d,v),c(e,D),c(e,P),c(P,F),c(P,H),c(P,Q),c(Q,j),c(e,se),c(e,T),c(T,J),c(T,x),c(T,Y),c(Y,G),c(e,X),c(e,B),c(B,I),c(B,ee),c(B,z),c(z,K)},p(L,R){R[0]&8194&&o!==(o=(L[56].pollster||"N/A")+"")&&S(u,o),R[0]&8194&&O!==(O=(L[56].sponsor||"N/A")+"")&&S(v,O),R[0]&8194&&U!==(U=de(L[56])+"")&&S(j,U),R[0]&8194&&M!==(M=(L[56].location||"N/A")+"")&&S(G,M),R[0]&8194&&$!==($=(L[56].sample_size||"N/A")+"")&&S(K,$)},d(L){L&&y(e)}}}function yt(t){let e;function l(o,u){return o[53].matches&&o[53].matches.length>0&&o[53].matches[0].matched_poll?Ct:Ml}function s(o,u){return u===Ct?ll(o):o}let n=l(t),a=n(s(t,n));return{c(){a.c(),e=ue()},m(o,u){a.m(o,u),C(o,e,u)},p(o,u){n===(n=l(o))&&a?a.p(s(o,n),u):(a.d(1),a=n(s(o,n)),a&&(a.c(),a.m(e.parentNode,e)))},d(o){a.d(o),o&&y(e)}}}function Ml(t){let e;return{c(){e=r("span"),e.textContent="No match found",i(e,"class","muted svelte-cs93cu")},m(l,s){C(l,e,s)},p:ae,d(l){l&&y(e)}}}function Ct(t){let e,l,s,n,a,o=(t[56].pollster||"N/A")+"",u,p,f,A,h,d,O=(t[56].sponsor||"N/A")+"",v,D,P,F,H,Q,U=de(t[56])+"",j,se,T,J,x,Y,M=(t[56].location||"N/A")+"",G,X,B,I,ee,z,$=(t[56].sample_size||"N/A")+"",K;return{c(){e=r("div"),l=r("div"),s=r("span"),s.textContent="Pollster:",n=m(),a=r("span"),u=k(o),p=m(),f=r("div"),A=r("span"),A.textContent="Sponsor:",h=m(),d=r("span"),v=k(O),D=m(),P=r("div"),F=r("span"),F.textContent="Date:",H=m(),Q=r("span"),j=k(U),se=m(),T=r("div"),J=r("span"),J.textContent="Location:",x=m(),Y=r("span"),G=k(M),X=m(),B=r("div"),I=r("span"),I.textContent="Sample:",ee=m(),z=r("span"),K=k($),i(s,"class","field-label svelte-cs93cu"),i(a,"class","field-value svelte-cs93cu"),i(l,"class","match-field svelte-cs93cu"),i(A,"class","field-label svelte-cs93cu"),i(d,"class","field-value svelte-cs93cu"),i(f,"class","match-field svelte-cs93cu"),i(F,"class","field-label svelte-cs93cu"),i(Q,"class","field-value svelte-cs93cu"),i(P,"class","match-field svelte-cs93cu"),i(J,"class","field-label svelte-cs93cu"),i(Y,"class","field-value svelte-cs93cu"),i(T,"class","match-field svelte-cs93cu"),i(I,"class","field-label svelte-cs93cu"),i(z,"class","field-value svelte-cs93cu"),i(B,"class","match-field svelte-cs93cu"),i(e,"class","match-card svelte-cs93cu")},m(L,R){C(L,e,R),c(e,l),c(l,s),c(l,n),c(l,a),c(a,u),c(e,p),c(e,f),c(f,A),c(f,h),c(f,d),c(d,v),c(e,D),c(e,P),c(P,F),c(P,H),c(P,Q),c(Q,j),c(e,se),c(e,T),c(T,J),c(T,x),c(T,Y),c(Y,G),c(e,X),c(e,B),c(B,I),c(B,ee),c(B,z),c(z,K)},p(L,R){R[0]&8194&&o!==(o=(L[56].pollster||"N/A")+"")&&S(u,o),R[0]&8194&&O!==(O=(L[56].sponsor||"N/A")+"")&&S(v,O),R[0]&8194&&U!==(U=de(L[56])+"")&&S(j,U),R[0]&8194&&M!==(M=(L[56].location||"N/A")+"")&&S(G,M),R[0]&8194&&$!==($=(L[56].sample_size||"N/A")+"")&&S(K,$)},d(L){L&&y(e)}}}function St(t){let e;function l(o,u){return o[44]==="url"&&o[41][o[44]]?kt:o[44]==="added_on"&&o[41][o[44]]?bt:o[44]==="match_poll_id"&&o[41][o[44]]?Ol:o[44]==="match_results"&&o[41][o[44]]?Sl:o[44]==="polls"&&o[41][o[44]]?mt:o[44]==="feedback"?vt:o[44]==="notes"?Cl:typeof o[41][o[44]]=="object"&&o[41][o[44]]!==null?yl:wl}function s(o,u){return u===kt?il(o):u===bt?al(o):u===mt?ol(o):u===vt?cl(o):o}let n=l(t),a=n(s(t,n));return{c(){e=r("td"),a.c(),i(e,"class","svelte-cs93cu")},m(o,u){C(o,e,u),a.m(e,null)},p(o,u){n===(n=l(o))&&a?a.p(s(o,n),u):(a.d(1),a=n(s(o,n)),a&&(a.c(),a.m(e,null)))},d(o){o&&y(e),a.d()}}}function Ot(t){let e,l,s=t[13],n=[];for(let a=0;a<s.length;a+=1)n[a]=St(Ye(t,s,a));return{c(){e=r("tr");for(let a=0;a<n.length;a+=1)n[a].c();l=m(),i(e,"class","svelte-cs93cu")},m(a,o){C(a,e,o);for(let u=0;u<n.length;u+=1)n[u].m(e,null);c(e,l)},p(a,o){if(o[0]&204802){s=a[13];let u;for(u=0;u<s.length;u+=1){const p=Ye(a,s,u);n[u]?n[u].p(p,o):(n[u]=St(p),n[u].c(),n[u].m(e,l))}for(;u<n.length;u+=1)n[u].d(1);n.length=s.length}},d(a){a&&y(e),he(n,a)}}}function Fl(t){let e,l,s,n,a,o,u,p,f,A,h,d,O,v,D,P,F,H,Q,U,j,se,T=Object.keys(t[14]).length>0,J,x,Y,M,G,X,B,I,ee,z,$,K,L,R,V=t[4]&&Xe(t),Z=t[6],E=[];for(let _=0;_<Z.length;_+=1)E[_]=Ze(Qe(t,Z,_));let W=T&&rl(t);function te(_,w){return _[2]?dl:_[3]?_l:_[0].length>0?fl:ul}let ne=te(t),N=ne(t);return{c(){e=r("header"),e.innerHTML=`<div class="site-header__inner container svelte-cs93cu"><a class="brand svelte-cs93cu" href="/" aria-label="Pollfinder home"><svg class="brand__glyph svelte-cs93cu" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="7" class="svelte-cs93cu"></circle><line x1="16.5" y1="16.5" x2="22" y2="22" class="svelte-cs93cu"></line></svg> 
      <span class="brand__name svelte-cs93cu">Pollfinder</span></a> 

    <nav class="top-nav svelte-cs93cu" aria-label="Primary"><a href="#data" class="svelte-cs93cu">Data</a> 
      <a href="#about" class="svelte-cs93cu">About</a> 
      <a href="#methods" class="svelte-cs93cu">Methods</a></nav></div>`,l=m(),s=r("article"),n=r("div"),a=r("div"),o=r("h1"),o.textContent="Poll Detector",u=m(),p=r("p"),p.textContent="Detect poll mentions in the wild using large language models, then structure the results for analysis.",f=m(),A=r("div"),h=r("div"),d=r("label"),d.textContent="Date",O=m(),v=r("input"),D=m(),V&&V.c(),P=m(),F=r("div"),H=r("label"),H.textContent="Collection",Q=m(),U=r("select"),j=r("option"),j.textContent="All collections";for(let _=0;_<E.length;_+=1)E[_].c();se=m(),W&&W.c(),J=m(),x=r("div"),Y=r("div"),M=r("button"),M.innerHTML=`<svg class="view-icon svelte-cs93cu" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" class="svelte-cs93cu"></rect><rect x="14" y="3" width="7" height="7" class="svelte-cs93cu"></rect><rect x="14" y="14" width="7" height="7" class="svelte-cs93cu"></rect><rect x="3" y="14" width="7" height="7" class="svelte-cs93cu"></rect></svg>
      Table View`,G=m(),X=r("button"),X.innerHTML=`<svg class="view-icon svelte-cs93cu" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="4" class="svelte-cs93cu"></rect><rect x="3" y="9" width="18" height="4" class="svelte-cs93cu"></rect><rect x="3" y="15" width="18" height="4" class="svelte-cs93cu"></rect></svg>
      Grouped by Match ID`,B=m(),I=r("main"),N.c(),ee=m(),z=r("footer"),$=r("div"),K=r("p"),K.textContent=`\xA9 ${new Date().getFullYear()} Pollfinder \u2022 Built for structured poll discovery.`,i(e,"class","site-header svelte-cs93cu"),i(o,"class","svelte-cs93cu"),i(p,"class","dek svelte-cs93cu"),i(d,"for","date"),i(d,"class","svelte-cs93cu"),i(v,"id","date"),i(v,"type","date"),i(v,"class","svelte-cs93cu"),i(h,"class","field svelte-cs93cu"),i(H,"for","collection"),i(H,"class","svelte-cs93cu"),j.__value="",j.value=j.__value,i(j,"class","svelte-cs93cu"),i(U,"id","collection"),i(U,"class","svelte-cs93cu"),t[5]===void 0&&Ce(()=>t[24].call(U)),i(F,"class","field svelte-cs93cu"),i(A,"class","filters svelte-cs93cu"),i(a,"class","hero__copy svelte-cs93cu"),i(n,"class","hero svelte-cs93cu"),i(s,"class","container svelte-cs93cu"),i(M,"class","view-btn svelte-cs93cu"),fe(M,"active",t[9]==="table"),i(X,"class","view-btn svelte-cs93cu"),fe(X,"active",t[9]==="grouped"),i(Y,"class","view-toggle svelte-cs93cu"),i(x,"class","container svelte-cs93cu"),i(I,"id","data"),i(I,"class","container svelte-cs93cu"),i(K,"id","about"),i(K,"class","muted svelte-cs93cu"),i($,"class","container footer-inner svelte-cs93cu"),i(z,"class","site-footer svelte-cs93cu")},m(_,w){C(_,e,w),C(_,l,w),C(_,s,w),c(s,n),c(n,a),c(a,o),c(a,u),c(a,p),c(a,f),c(a,A),c(A,h),c(h,d),c(h,O),c(h,v),Ie(v,t[4]),c(h,D),V&&V.m(h,null),c(A,P),c(A,F),c(F,H),c(F,Q),c(F,U),c(U,j);for(let g=0;g<E.length;g+=1)E[g].m(U,null);Te(U,t[5]),c(A,se),W&&W.m(A,null),C(_,J,w),C(_,x,w),c(x,Y),c(Y,M),c(Y,G),c(Y,X),C(_,B,w),C(_,I,w),N.m(I,null),C(_,ee,w),C(_,z,w),c(z,$),c($,K),L||(R=[oe(v,"input",t[22]),oe(v,"change",t[15]),oe(U,"change",t[24]),oe(U,"change",t[19]),oe(M,"click",t[25]),oe(X,"click",t[26])],L=!0)},p(_,w){if(w[0]&16&&Ie(v,_[4]),_[4]?V?V.p(_,w):(V=Xe(_),V.c(),V.m(h,null)):V&&(V.d(1),V=null),w[0]&64){Z=_[6];let g;for(g=0;g<Z.length;g+=1){const b=Qe(_,Z,g);E[g]?E[g].p(b,w):(E[g]=Ze(b),E[g].c(),E[g].m(U,null))}for(;g<E.length;g+=1)E[g].d(1);E.length=Z.length}w[0]&96&&Te(U,_[5]),T&&W.p(_,w),w[0]&512&&fe(M,"active",_[9]==="table"),w[0]&512&&fe(X,"active",_[9]==="grouped"),ne===(ne=te(_))&&N?N.p(_,w):(N.d(1),N=ne(_),N&&(N.c(),N.m(I,null)))},i:ae,o:ae,d(_){_&&y(e),_&&y(l),_&&y(s),V&&V.d(),he(E,_),W&&W.d(),_&&y(J),_&&y(x),_&&y(B),_&&y(I),N.d(),_&&y(ee),_&&y(z),L=!1,ve(R)}}}function Le(t){return t==null?"":t.toString().replace(/^[\s'"\[\]]+|[\s'"\[\]]+$/g,"").replace(/\s+/g," ").trim()}function Dt(t){if(!t)return[];if(Array.isArray(t))return t.map(Le).filter(Boolean);if(typeof t=="string"){const e=t.trim();if(e.startsWith("[")&&e.endsWith("]"))try{const s=JSON.parse(e);if(Array.isArray(s))return s.map(Le).filter(Boolean)}catch{}return(e.includes(",")||e.includes("|")?e.split(/[,\|]+/):[e]).map(Le).filter(Boolean)}return[]}function Ee(t){var l;if(!t)return null;let e=t;if(typeof t=="string")try{e=JSON.parse(t)}catch{return null}return Array.isArray(e)&&(e=(l=e[0])!=null?l:null),e&&typeof e=="object"?e:null}function me(t){var e,l;return(l=(e=t==null?void 0:t.sample_size)!=null?e:t==null?void 0:t.sample)!=null?l:"N/A"}function Lt(t){if(!t)return!1;try{const e=new URL(t);return e.protocol==="http:"||e.protocol==="https:"}catch{return!1}}function de(t){if(!t)return"N/A";const e=t.start_date||t.date,l=t.end_date;return e?l&&l!==e?`${e} to ${l}`:e:"N/A"}function Ut(t){return`${t.url}_${t.match_poll_id||"no_match"}`}const Pt=([t,e],[l,s])=>{const n=s.length-e.length;return n!==0?n:t==="No Match"?1:l==="No Match"?-1:t.localeCompare(l)};function Ul(t,e,l){let s=[],n=[],a=!0,o=null;console.log("Cache bust test:",new Date().toISOString());const u=new Date,p=u.getFullYear()+"-"+String(u.getMonth()+1).padStart(2,"0")+"-"+String(u.getDate()).padStart(2,"0");let f=p,A="",h=[],d="added_on",O="desc",v="table",D={},P="added_on",F="desc",H={};async function Q(){const N=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:3001/api/polls":"https://pollfinder-production.up.railway.app/api/polls";l(2,a=!0),l(3,o=null);try{const _=await fetch(`${N}?date=${f||p}`);if(!_.ok)throw new Error(`HTTP ${_.status}`);const w=await _.json();if(typeof w=="object"&&!Array.isArray(w)){const g=Object.keys(w),b=w[g[0]],q=Object.keys(b).length;l(0,s=[]);for(let le=0;le<q;le++){const ce={};g.forEach(re=>ce[re]=w[re][le]),s.push(ce)}}else Array.isArray(w)&&l(0,s=w);if(s.length>0){const g=new Map;s.forEach(ce=>{Dt(ce.collections).forEach(re=>{const ie=re.toLowerCase();g.has(ie)||g.set(ie,re)})}),l(6,h=Array.from(g.values()).sort((ce,re)=>ce.localeCompare(re)));let b=Object.keys(s[0]).filter(ce=>ce!=="id"&&ce!=="num_polls_found"&&ce!=="polls_mentioned"&&ce!=="collections"&&ce!=="feedback"&&ce!=="notes");const q=b.indexOf("url"),le=b.indexOf("added_on");q!==-1&&le!==-1&&([b[q],b[le]]=[b[le],b[q]]),b.push("feedback"),b.push("notes"),l(13,U=b),l(1,n=[...s]),J(),G("added_on",!1)}}catch(_){l(3,o=_.message),console.error("Fetch error:",_)}finally{l(2,a=!1)}}let U=[];async function j(N,_){console.log("Handling feedback:",{id:N.id,feedbackType:_,item:N});try{const g=(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:3001/api/polls":"https://pollfinder-production.up.railway.app/api/polls").replace("/polls","/feedback");console.log("Sending feedback to:",g);const b=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:N.id,feedback:_})});if(console.log("Response status:",b.status),b.ok)console.log("Feedback saved successfully"),N.feedback=_,l(0,s=[...s]),l(1,n=[...n]);else{const q=await b.text();console.error("Failed to save feedback:",b.status,q)}}catch(w){console.error("Error saving feedback:",w)}}async function se(N,_){console.log("Handling notes:",{id:N.id,notesText:_,item:N});try{const g=(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:3001/api/polls":"https://pollfinder-production.up.railway.app/api/polls").replace("/polls","/notes");console.log("Sending notes to:",g);const b=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:N.id,notes:_})});if(console.log("Response status:",b.status),b.ok)console.log("Notes saved successfully"),N.notes=_,l(0,s=[...s]),l(1,n=[...n]);else{const q=await b.text();console.error("Failed to save notes:",b.status,q)}}catch(w){console.error("Error saving notes:",w)}}function T(){const N=[];N.push(["URL","Added On","ID","Match Poll ID","Added On","Pollster","Sponsor","Feedback"]),n.forEach(q=>{var ce,re,ie,_e,Ne,Ae,je,Me;const le=Ut(q);if(H[le]){let Fe="N/A",Ue="N/A";if(q.match_results){const pe=typeof q.match_results=="string"?JSON.parse(q.match_results):q.match_results;(re=(ce=pe==null?void 0:pe.matches)==null?void 0:ce[0])!=null&&re.confidence,Fe=((Ne=(_e=(ie=pe==null?void 0:pe.matches)==null?void 0:ie[0])==null?void 0:_e.matched_poll)==null?void 0:Ne.pollster)||"N/A",Ue=((Me=(je=(Ae=pe==null?void 0:pe.matches)==null?void 0:Ae[0])==null?void 0:je.matched_poll)==null?void 0:Me.sponsor)||"N/A"}N.push([q.url,q.added_on,q.id,q.match_poll_id||"No Match",q.added_on,Fe,Ue,H[le]])}});const _=N.map(q=>q.map(le=>`"${String(le).replace(/"/g,'""')}"`).join(",")).join(`
`),w=new Blob([_],{type:"text/csv;charset=utf-8;"}),g=document.createElement("a"),b=URL.createObjectURL(w);g.setAttribute("href",b),g.setAttribute("download",`poll_feedback_${new Date().toISOString().split("T")[0]}.csv`),g.style.visibility="hidden",document.body.appendChild(g),g.click(),document.body.removeChild(g)}function J(){l(1,n=s.filter(N=>{if(f&&N.added_on){const _=new Date(N.added_on);if(_.getFullYear()+"-"+String(_.getMonth()+1).padStart(2,"0")+"-"+String(_.getDate()).padStart(2,"0")!==f)return!1}return!(A&&!Dt(N.collections).map(w=>w.toLowerCase()).includes(A.toLowerCase()))})),d&&G(d,!1),x()}function x(){l(10,D={}),n.forEach(N=>{const _=N.match_poll_id||"No Match";D[_]||l(10,D[_]=[],D),D[_].push(N)}),Object.keys(D).forEach(N=>{l(10,D[N]=Y(D[N]),D)})}function Y(N){return[...N].sort((_,w)=>{var q,le,ce,re;let g,b;if(P==="added_on")g=new Date(_.added_on),b=new Date(w.added_on);else if(P==="url")g=_.url,b=w.url;else if(P==="pollster"||P==="sponsor"){const ie=Array.isArray(_.polls)?_.polls:[_.polls],_e=Array.isArray(w.polls)?w.polls:[w.polls],Ne=ie[0]?typeof ie[0]=="string"?JSON.parse(ie[0]):ie[0]:{},Ae=_e[0]?typeof _e[0]=="string"?JSON.parse(_e[0]):_e[0]:{};g=Ne[P]||"",b=Ae[P]||""}else if(P==="confidence"){const ie=typeof _.match_results=="string"?JSON.parse(_.match_results):_.match_results,_e=typeof w.match_results=="string"?JSON.parse(w.match_results):w.match_results;g=((le=(q=ie==null?void 0:ie.matches)==null?void 0:q[0])==null?void 0:le.confidence)||0,b=((re=(ce=_e==null?void 0:_e.matches)==null?void 0:ce[0])==null?void 0:re.confidence)||0}else g=_[P],b=w[P];return g==null?1:b==null?-1:g<b?F==="asc"?-1:1:g>b?F==="asc"?1:-1:0})}function M(N){P===N?l(12,F=F==="asc"?"desc":"asc"):(l(11,P=N),l(12,F="asc")),Object.keys(D).forEach(_=>{l(10,D[_]=Y(D[_]),D)}),l(10,D={...D})}function G(N,_=!0){_&&(d===N?l(8,O=O==="asc"?"desc":"asc"):(l(7,d=N),l(8,O="asc"))),l(1,n=[...n].sort((w,g)=>{let b=w[N],q=g[N];return N==="added_on"&&(b=new Date(b),q=new Date(q)),b==null?1:q==null?-1:b<q?O==="asc"?-1:1:b>q?O==="asc"?1:-1:0}))}Vt(Q);function X(){f=this.value,l(4,f)}const B=()=>{l(4,f=""),Q()};function I(){A=Bt(this),l(5,A),l(6,h)}return[s,n,a,o,f,A,h,d,O,v,D,P,F,U,H,Q,j,se,T,J,M,G,X,B,I,()=>l(9,v="table"),()=>l(9,v="grouped"),N=>N!=="feedback"&&N!=="notes"&&G(N),N=>j(N,"correct"),N=>j(N,"incorrect"),N=>j(N,"not_interested"),(N,_)=>se(N,_.target.value),()=>M("added_on"),()=>M("url"),()=>M("pollster"),()=>M("sponsor"),()=>M("confidence")]}class Jl extends $t{constructor(e){super(),Zt(this,e,Ul,Fl,Jt,{},null,[-1,-1,-1])}}new Jl({target:document.getElementById("app")});
